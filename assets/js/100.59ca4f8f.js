(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{396:function(a,e,t){"use strict";t.r(e);var r=t(33),s=Object(r.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"аудио"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#аудио"}},[a._v("#")]),a._v(" Аудио")]),a._v(" "),t("p",[a._v("В данной статье рассматриваются фоновая музыка (BGM) и звуковые эффекты (SFX); для голосов см. "),t("RouterLink",{attrs:{to:"/ru/guide/voicing.html"}},[a._v("руководство по озвучке?")]),a._v(".")],1),a._v(" "),t("p",[a._v("Чтобы добавить, отредактировать или удалить ресурсы BGM и SFX, используйте диспетчер аудиоресурсов, доступный через "),t("code",[a._v("Naninovel -> Resources -> Audio")]),a._v(". Вы можете использовать любые аудиоформаты, "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/AudioFiles.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("поддерживаемые Unity"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/cacdec36623dbbfcf9f49c594de53c0f.png",alt:""}})]),a._v(" "),t("p",[a._v("Если у вас много аудиофайлов и их неудобно назначать через меню редактора, можно просто поместить их в папку "),t("code",[a._v("Resources/Naninovel/Audio")]),a._v(", и они автоматически будут доступны в скриптах. Вы можете дополнительно организовать их с помощью вложенных папок, если хотите; в этом случае используйте слеш ("),t("code",[a._v("/")]),a._v(") при ссылке на них в скриптах naninovel. Например, аудиоклип по адресу: "),t("code",[a._v("Resources/Naninovel/Audio/Music/Ambient/Noise002.wav")]),a._v(" можно объявить в скрипте как "),t("code",[a._v("Music/Ambient/Noise002")]),a._v(".")]),a._v(" "),t("p",[a._v("Также можно использовать "),t("RouterLink",{attrs:{to:"/ru/guide/resource-providers.html#addressable"}},[a._v("систему адрессируемых ассетов?")]),a._v(', чтобы вручную распределить ресурсы. Чтобы предоставить доступ к ассету, назначьте адрес, равный пути, который вы использовали бы для его объявления с помощью метода, описанного выше, за исключением опущенной части "Resources/". Например, для объявления BGM "MainTheme.wav" назначьте ассету следующий адрес:'),t("code",[a._v("Naninovel/Audio/MainTheme")]),a._v(". Имейте в виду, что адресируемый провайдер по умолчанию не используется в редакторе; вы можете разрешить его, включив свойство "),t("code",[a._v("Enable Addressable In Editor")]),a._v(" в меню конфигурации провайдера ресурсов.")],1),a._v(" "),t("div",{staticClass:"custom-block warn"},[t("p",{staticClass:"custom-block-title"},[a._v("ВНИМАНИЕ")]),a._v(" "),t("p",[a._v("Ассеты аудио, не объявленные через диспетчер ресурсов, не будут доступны в различных выпадающих меню редактора, как, например, в том, что используется для выбора "),t("code",[a._v("Message Sound")]),a._v(" для актора персонажа.")])]),a._v(" "),t("p",[a._v("Поведение воспроизводимого звука можно настроить с помощью контекстного меню "),t("code",[a._v("Naninovel -> Configuration -> Audio")]),a._v("; доступные параметры см. в разделе "),t("RouterLink",{attrs:{to:"/ru/guide/configuration.html#audio"}},[a._v("Руководство по конфигурации")]),a._v(".")],1),a._v(" "),t("h2",{attrs:{id:"фоновая-музыка"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#фоновая-музыка"}},[a._v("#")]),a._v(" Фоновая музыка")]),a._v(" "),t("p",[a._v("Используйте команду "),t("a",{attrs:{href:"/api/#bgm",target:"_blank"}},[t("code",[a._v("@bgm")])]),a._v(", за которой следует название трека, чтобы управлять воспроизведением музыки в скриптах Naninovel:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Начать проигрывать зацикленный трек с названием `Sanctuary` \n@bgm Sanctuary\n\n; То же самое, что выше, но в начале используется фейд в 10 секунд, и трек проигрывается только один раз\n@bgm Sanctuary fade:10 loop:false\n\n; Изменить громкость всех воспроизводимых музыкальных треков до 50% за 2,5 секунды и зациклить их\n@bgm volume:0.5 loop:true time:2.5\n")])])]),t("p",[a._v("Музыкальные треки по умолчанию зациклены. Если название трека не указано в команде "),t("a",{attrs:{href:"/api/#bgm",target:"_blank"}},[t("code",[a._v("@bgm")])]),a._v(", то командой будут затронуты все проигрываемые в данный момент треки. При вызове трека, который уже воспроизводится, воспроизведение не будет затронуто (трек не начнет воспроизводиться с самого начала), но будут применены указанные параметры (громкость, зацикливание).")]),a._v(" "),t("p",[a._v("Можно воспроизвести вступление трека, за которым следует зацикленная часть, используя параметр "),t("code",[a._v("intro")]),a._v(", например:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Проиграть `BattleThemeIntro` один раз, а затем сразу же зацикленный `BattleThemeMain`.\n@bgm BattleThemeMain intro:BattleThemeIntro\n")])])]),t("p",[a._v("Чтобы остановить воспроизведение музыки, используйте команду "),t("a",{attrs:{href:"/api/#stopbgm",target:"_blank"}},[t("code",[a._v("@stopBgm")])]),a._v(", за которой следует название трека. Если название трека не указано, команда остановит все воспроизводимые в данный момент треки.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Затухание трека `Promenade` в течение 10 секунд и остановка воспроизведения\n@stopBgm Promenade fade:10\n\n; Остановить все играющие в данный момент музыкальные треки\n@stopBgm\n")])])]),t("h2",{attrs:{id:"звуковые-эффекты"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#звуковые-эффекты"}},[a._v("#")]),a._v(" Звуковые эффекты")]),a._v(" "),t("p",[a._v("Используйте команды "),t("a",{attrs:{href:"/api/#sfx",target:"_blank"}},[t("code",[a._v("@sfx")])]),a._v(" и "),t("a",{attrs:{href:"/api/#stopsfx",target:"_blank"}},[t("code",[a._v("@stopSfx")])]),a._v(", за которыми следует название клипа, чтобы управлять воспроизведением звуковых эффектов в сценариях Naninovel:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Однократно воспроизвести SFX под названием `Explosion`\n@sfx Explosion\n\n; Зацикленно воспроизводить SFX `Rain`\n@sfx Rain loop:true\n\n; Изменить громкость всех воспроизводимых треков SFX до 75% за 2,5 секунды и отключает зацикливание для всех них\n@sfx volume:0.75 loop:false time:2.5\n")])])]),t("p",[a._v("Треки звуковых эффектов по умолчанию  не зациклены. Если название трека не указано в команде "),t("a",{attrs:{href:"/api/#sfx",target:"_blank"}},[t("code",[a._v("@sfx")])]),a._v(", то командой будут затронуты все проигрываемые в данный момент треки. При вызове трека, который уже воспроизводится, воспроизведение не будет затронуто (трек не начнет воспроизводиться с самого начала), но будут применены указанные параметры (громкость, зацикливание).")]),a._v(" "),t("p",[a._v("Чтобы остановить воспроизведение звукового эффекта (вне зависимости, зациклен тот или нет), используйте команду "),t("a",{attrs:{href:"/api/#stopsfx",target:"_blank"}},[t("code",[a._v("@stopSfx")])]),a._v(", за которой следует название трека. Если название трека не указано, команда остановит все воспроизводимые в данный момент треки.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Затухание и остановка трека `Rain` в течение 15 секунд\n@stopSfx Rain fade:15\n\n; Остановить все играющие в данный момент треки звуковых эффектов\n@stopSfx\n")])])]),t("h2",{attrs:{id:"аудиомикшер"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#аудиомикшер"}},[a._v("#")]),a._v(" Аудиомикшер")]),a._v(" "),t("p",[a._v("Naninovel использует ассет "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/AudioMixer.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("аудиомикшера"),t("OutboundLink")],1),a._v(" при воспроизведении аудио для разделения каналов BGM, SFX и голосовой озвучки.")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/6271d59ee9ac63a0a218316bd3bc78a8.png",alt:""}})]),a._v(" "),t("p",[a._v("В меню конфигурации аудио можно назначить пользовательский ассет микшера, изменить группы, используемые для каждого аудиоканала, и контроллеры регулировки громкости (названия открытых параметров?). Если пользовательские ассеты микшера не назначены, то по умолчанию будет использоваться стандартный.")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/ef2db68edb871608d1718117a37e9486.png",alt:""}})]),a._v(" "),t("p",[a._v("Чтобы воспроизвести звук через пользовательскую группу в микшере, укажите путь к группе параметром "),t("code",[a._v("group")]),a._v(", доступным в командах "),t("a",{attrs:{href:"/api/#bgm",target:"_blank"}},[t("code",[a._v("@bgm")])]),a._v(", "),t("a",{attrs:{href:"/api/#sfx",target:"_blank"}},[t("code",[a._v("@sfx")])]),a._v(" и "),t("a",{attrs:{href:"/api/#voice",target:"_blank"}},[t("code",[a._v("@voice")])]),a._v(".")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("; Воспроизвести зацикленное аудио `Noise` через группу микшера `Master/Ambient`.\n@sfx Noise loop:true group:Master/Ambient\n\n; Воспроизвести голосовое аудио `ScaryVoice` через группу микшера `Master/Reverb`.\n@voice ScaryVoice group:Master/Reverb\n")])])]),t("p",[a._v("Группы извлекаются? с помощью метода "),t("code",[a._v("FindMatchingGroups(groupPath)")]),a._v(" текущего назначенного ассета аудиомикшера; см. "),t("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Audio.AudioMixer.FindMatchingGroups",target:"_blank",rel:"noopener noreferrer"}},[a._v("документацию Unity"),t("OutboundLink")],1),a._v(" для получения дополнительной информации об ожидаемом формате пути. В случае, если несколько групп связаны с предоставленным путем, использоваться для воспроизведения звука будет первая из них.")]),a._v(" "),t("p",[a._v("В скриптах C# используемый в настоящее время аудиомикшер можно получить? через "),t("code",[a._v("IAudioManager")]),a._v(" "),t("RouterLink",{attrs:{to:"/ru/guide/engine-services.html"}},[a._v("сервис движка")]),a._v(".")],1),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var audioManager = Engine.GetService<IAudioManager>();\nvar audioMixer = audioManager.AudioMixer;\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);