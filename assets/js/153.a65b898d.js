(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{526:function(e,t,o){"use strict";o.r(t);var a=o(33),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"choices"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#choices"}},[e._v("#")]),e._v(" Choices")]),e._v(" "),o("p",[e._v("The feature allows to present a number of choices to the user and re-route script execution depending on the choice the user makes.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.gyazo.com/023502e43b35caa706c88fd9ab32003d.png",alt:"Choices"}})]),e._v(" "),o("p",[e._v("Use "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" commands followed by the choice summary and (optional) "),o("code",[e._v("goto")]),e._v(" path to add choices from the naninovel scripts:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('; Print the text, then immediately show choices and stop script execution.\nContinue executing this script or load another?[skipInput]\n@choice "Continue from the next line"\n@choice "Continue from the specified label" goto:.Labelname\n@choice "Load another from start" goto:AnotherScript\n@choice "Load another from label" goto:AnotherScript.LabelName\n@stop\n')])])]),o("p",[e._v("Value of the "),o("code",[e._v("goto")]),e._v(" parameter is the path to re-route into when users selects the corresponding choice. It's specified in the following format: "),o("em",[e._v("ScriptName")]),e._v("."),o("em",[e._v("LabelName")]),e._v(". When label name is omitted, provided script will be played from the start; when script name is omitted, a label in the currently played script will be referenced:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("; Loads and starts playing a naninovel script with the name `Script001` from the start\ngoto:Script001\n\n; Save as above, but start playing from the label `AfterStorm`\ngoto:Script001.AfterStorm\n\n; Jumps the playback to the label `Epilogue` in the currently played script\ngoto:.Epilogue\n")])])]),o("p",[e._v("When "),o("code",[e._v("goto")]),e._v(" parameter is not specified, current script will continue executing from the next line.")]),e._v(" "),o("p",[e._v("Choice handler actors are used to process the "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" commands. You can add, edit and remove choice handlers using the choice manager accessible via "),o("code",[e._v("Naninovel -> Resources -> Choice Handlers")]),e._v(" context menu.")]),e._v(" "),o("p",[e._v("Choice handlers behavior can be configured using "),o("code",[e._v("Naninovel -> Configuration -> Choice Handlers")]),e._v(" context menu; for available options see "),o("RouterLink",{attrs:{to:"/zh/guide/configuration.html#choice-handlers"}},[e._v("configuration guide")]),e._v(".")],1),e._v(" "),o("h2",{attrs:{id:"choice-button"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#choice-button"}},[e._v("#")]),e._v(" Choice Button")]),e._v(" "),o("p",[e._v("The "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" command accepts an optional "),o("code",[e._v("button")]),e._v(' parameter specifying a path (relative to a "Resources" folder) to custom prefab representing the choice option object.')]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("@choice handler:ButtonArea button:MapButtons/Home pos:-300,-300 goto:.HomeScene\n")])])]),o("p",[e._v("â€” here we use a choice handler supporting positioning to represent a point of interest on an improvised map, where the "),o("code",[e._v("button")]),e._v(" parameter is pointing to a prefab consisting of a button wrapped over an image. The prefab is stored at "),o("code",[e._v("Assets/Resources/MapButtons/Home.prefab")]),e._v(".")]),e._v(" "),o("p",[e._v("To create a choice button prefab from template, use "),o("code",[e._v("Create -> Naninovel -> Choice Button")]),e._v(" asset context menu.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.gyazo.com/c2bd4abaa0275f7cdd37c56fd2ff0dec.png",alt:""}})]),e._v(" "),o("p",[e._v("Remember to "),o("strong",[e._v('store the custom choice buttons is a "Resources" folder')]),e._v(", otherwise they won't be able to load when requested.")]),e._v(" "),o("p",[e._v("When "),o("code",[e._v("button")]),e._v(" parameter of the "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" command is not specified a default button prefab is used.")]),e._v(" "),o("p",[e._v("To use a different (eg, TMPro) text component for the choice text, use "),o("code",[e._v("On Summary Text Changed")]),e._v(" "),o("a",{attrs:{href:"https://docs.unity3d.com/Manual/UnityEvents",target:"_blank",rel:"noopener noreferrer"}},[e._v("Unity event"),o("OutboundLink")],1),e._v(" of the choice button component.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.gyazo.com/8810c51b336bfd653efcde591fe1c41f.png",alt:""}})]),e._v(" "),o("h2",{attrs:{id:"buttonlist-choice-handler"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#buttonlist-choice-handler"}},[e._v("#")]),e._v(" ButtonList Choice Handler")]),e._v(" "),o("p",[e._v("Button list handler is used by default. It stores the choice buttons inside a horizontal layout panel and ignores the "),o("code",[e._v("pos")]),e._v(" parameter of the "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" command.")]),e._v(" "),o("h2",{attrs:{id:"buttonarea-choice-handler"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#buttonarea-choice-handler"}},[e._v("#")]),e._v(" ButtonArea Choice Handler")]),e._v(" "),o("p",[e._v("In contrast to button list, button area doesn't enforce any specific layout and allows manually setting positions of the added choice buttons via "),o("code",[e._v("pos")]),e._v(" parameter. For example, here is one way to make an interactive map with choice commands and button area handler:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# Map\n@back Map\n@hidePrinter\n@choice handler:ButtonArea button:MapButtons/Home pos:-300,-300 goto:.HomeScene\n@choice handler:ButtonArea button:MapButtons/Shop pos:300,200 goto:.ShopScene\n@stop\n\n# HomeScene\n@back Home\nHome, sweet home!\n@goto .Map\n\n# ShopScene\n@back Shop\nDon't forget about cucumbers!\n@goto .Map\n")])])]),o("p"),o("div",{staticClass:"video-container"},[o("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/cNRNgk5HhKQ",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),o("p"),e._v(" "),o("h2",{attrs:{id:"adding-custom-choice-handlers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#adding-custom-choice-handlers"}},[e._v("#")]),e._v(" Adding Custom Choice Handlers")]),e._v(" "),o("p",[e._v("You can add custom choice handlers based on the built-in templates or create new handlers from scratch. For example, let's customize the built-in "),o("code",[e._v("ButtonArea")]),e._v(" template.")]),e._v(" "),o("p",[e._v("Use "),o("code",[e._v("Create -> Naninovel -> Choice Handler -> ButtonArea")]),e._v(" asset context menu to create a button area handler prefab somewhere outside of the Naninovel package, e.g. at the "),o("code",[e._v("Assets/ChoiceHandlers")]),e._v(" folder.")]),e._v(" "),o("p",[e._v("Edit the handler: change font, textures, add animations, etc. For more information on the available UI building tools, check the "),o("a",{attrs:{href:"https://docs.unity3d.com/Packages/com.unity.ugui@latest",target:"_blank",rel:"noopener noreferrer"}},[e._v("Unity documentation"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Expose the handler to engine resources using choice handler manager GUI, which can be accessed with "),o("code",[e._v("Naninovel -> Resources -> Choice Handlers")]),e._v(" editor context menu. Add a new record using "),o("code",[e._v("+")]),e._v(" (plus) button, enter actor ID (can differ from the prefab name) and double click the record to open actor settings. Drag-drop handler prefab to the "),o("code",[e._v("Resource")]),e._v(" field.")]),e._v(" "),o("p",[o("video",{staticClass:"video",attrs:{loop:"",autoplay:"",muted:""},domProps:{muted:!0}},[o("source",{attrs:{src:"https://i.gyazo.com/cb3a0ff7f22b22cec6546acb388719fc.mp4",type:"video/mp4"}})])]),e._v(" "),o("p",[e._v("You can now use the new choice handler by specifying its ID in "),o("code",[e._v("handler")]),e._v(" parameter of the "),o("a",{attrs:{href:"/api/#choice",target:"_blank"}},[o("code",[e._v("@choice")])]),e._v(" commands.")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('@choice "Choice summary text." handler:MyNewHandler\n')])])]),o("p",[e._v("It's also possible to create a choice handler from scratch by manually implementing "),o("code",[e._v("IChoiceHandlerActor")]),e._v(" interface. See the guide on "),o("RouterLink",{attrs:{to:"/zh/guide/custom-actor-implementations.html"}},[e._v("custom actor implementations")]),e._v(" for more information.")],1)])}),[],!1,null,null,null);t.default=n.exports}}]);